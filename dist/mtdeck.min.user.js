// ==UserScript==
// @name        MTDeck
// @version     1.7.0
// @author      mkizka
// @description TweetDeckをスマホアプリのように使えるようにするUserScript
// @homepage    https://github.com/mkizka/MTDeck
// @match       https://tweetdeck.twitter.com
// ==/UserScript==

(()=>{var e={44:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(645),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,'body.mtdeck button[data-drawer=compose]{z-index:1;position:fixed !important;right:20px;bottom:60px;width:4rem !important;height:4rem !important;filter:drop-shadow(5px 5px 5px rgba(0, 0, 0, 0.7))}body.mtdeck .app-columns{padding:0 0 50px 0 !important}body.mtdeck .app-content{left:0 !important}body.mtdeck .app-columns-container{overflow-x:hidden;overflow-y:auto}body.mtdeck section.column,body.mtdeck .js-modal-panel,body.mtdeck .prf-header,body.mtdeck .prf-header-inner-overlay,body.mtdeck .social-proof-container{width:100% !important}body.mtdeck .overlay:before{margin-right:-5px}body.mtdeck .mdl{width:100% !important;overflow-x:hidden}body.mtdeck .mdl .mdl-inner{padding:5px}body.mtdeck .mdl .mdl-inner .js-right-column{overflow-x:hidden}body.mtdeck .mdl .mdl-inner .mdl-column:first-child{display:none}body.mtdeck .mdl .mdl-inner .mdl-column:not(:first-child){width:100% !important}body.mtdeck .mdl .mdl-dismiss{right:10px !important}body.mtdeck .med-tweet{width:100% !important;left:0 !important}body.mtdeck .old-composer-footer,body.mtdeck .column-nav-flyout{display:none}body.mtdeck .js-search-in-popover .popover{width:200px !important}body.mtdeck .js-mediaembed .js-media-native-video,body.mtdeck .js-mediaembed .youtube-player{width:100% !important;position:fixed;left:0;top:0;bottom:0;margin:auto !important;z-index:1}body.mtdeck .column-navigator{top:50px}body.mtdeck .app-content{will-change:transform}body.mtdeck .app-content.is-open{margin-right:0 !important;transform:translateX(100%) !important}body.mtdeck .drawer[data-drawer=compose]{left:-100%;width:100%}body.mtdeck button.js-hide-drawer{display:none !important}body.mtdeck .js-int-scroller{position:fixed;bottom:0;left:0;right:0;background-color:#1c2938;overflow-x:auto;white-space:nowrap;padding-top:10px;height:40px}body.mtdeck .js-int-scroller .column-nav-item{height:35px}body.mtdeck .js-int-scroller .column-nav-item .icon-medium{font-size:20px}body.mtdeck .js-int-scroller .column-nav-item .js-header-action{padding-left:12px !important;padding-right:12px !important}body.mtdeck .hide-detail-view-inline .js-int-scroller,body.mtdeck .with-nav-border-t:before{display:none}body.mtdeck .column-nav-item{display:inline-block}body.mtdeck-close header.app-header{position:relative;top:-50px}body.mtdeck-close div.app-columns-container{left:0 !important}.mtdeck-config{display:none;width:100%;height:100%;position:fixed;z-index:201;background-color:#1c2938;padding:20px}.mtdeck-config.is-open{display:block}.mtdeck-config-button{color:#8a2be2 !important}.mtdeck-config-item{margin-bottom:20px !important}.mtdeck-config-input[type=number]{width:80px;margin-right:10px}.mtdeck-config-footer{position:fixed;bottom:20px}body.mtdeck-no-animation,body.mtdeck-no-animation *:not(iframe){transition-duration:1ms !important}body.mtdeck-hide-images .js-media:not(.detail-preview){height:25px !important;border-radius:0 !important}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-sensitive{height:1rem;background-color:transparent}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-sensitive::before{content:"[sensitive]"}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-sensitive div{display:none}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:first-child,body.mtdeck-hide-images .js-media:not(.detail-preview) .js-media-preview-container{width:100% !important}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:first-child .media-item,body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:first-child .media-image,body.mtdeck-hide-images .js-media:not(.detail-preview) .js-media-preview-container .media-item,body.mtdeck-hide-images .js-media:not(.detail-preview) .js-media-preview-container .media-image{height:0;width:max-content;background-image:none !important;border-radius:0}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:first-child .media-item::before,body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:first-child .media-image::before,body.mtdeck-hide-images .js-media:not(.detail-preview) .js-media-preview-container .media-item::before,body.mtdeck-hide-images .js-media:not(.detail-preview) .js-media-preview-container .media-image::before{content:"[media]"}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:first-child .media-item *,body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:first-child .media-image *,body.mtdeck-hide-images .js-media:not(.detail-preview) .js-media-preview-container .media-item *,body.mtdeck-hide-images .js-media:not(.detail-preview) .js-media-preview-container .media-image *{display:none !important}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:not(:first-child){display:none !important}body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:not(:first-child) .media-item,body.mtdeck-hide-images .js-media:not(.detail-preview) .media-image-container:not(:first-child) .media-image{background-image:none !important}body.mtdeck-hide-images .item-box-full-bleed .media-item,body.mtdeck-hide-images .item-box-full-bleed .media-image{margin:auto !important}html.btd-on body.mtdeck-hide-images .js-media-image-link{background-color:inherit !important}html.btd-on body.mtdeck-hide-images .js-media-preview-container.is-video .media-item::before{opacity:1;width:inherit;background-image:none;top:20px;left:20px}html.btd-on body.mtdeck-hide-images .js-media-preview-container.is-video .media-item::after{background-color:transparent}',""]);const a=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(o[r]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);i&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},379:(e,t,n)=>{"use strict";var i,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function r(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},i=[],o=0;o<e.length;o++){var c=e[o],s=t.base?c[0]+t.base:c[0],d=n[s]||0,m="".concat(s," ").concat(d);n[s]=d+1;var l=r(m),u={css:c[1],media:c[2],sourceMap:c[3]};-1!==l?(a[l].references++,a[l].updater(u)):a.push({identifier:m,updater:h(u,t),references:1}),i.push(m)}return i}function s(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var d,m=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function l(e,t,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=m(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function u(e,t,n){var i=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var p=null,f=0;function h(e,t){var n,i,o;if(t.singleton){var a=f++;n=p||(p=s(t)),i=l.bind(null,n,a,!1),o=l.bind(null,n,a,!0)}else n=s(t),i=u.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=r(n[i]);a[o].references--}for(var s=c(e,t),d=0;d<n.length;d++){var m=r(n[d]);0===a[m].references&&(a[m].updater(),a.splice(m,1))}n=s}}}},306:e=>{"use strict";e.exports={i8:"1.7.0"}},597:e=>{"use strict";e.exports=JSON.parse('{"extensionDescription":{"message":"A browser extension to customize TweetDeck for mobile"},"configTitle":{"message":"Preference"},"configSaveLabel":{"message":"Save and Reload"},"configBackLabel":{"message":"Close"},"configLinksLabel":{"message":"Bug/Feature Report"},"configOptionBackAtMounted":{"message":"Close notifications at startup"},"configOptionNoAnimation":{"message":"Disable animation"},"configOptionHideImages":{"message":"Hide image thumbnails on tweet"},"configOptionMenuOpenRange":{"message":"Range to open menu with swipe"}}')},515:e=>{"use strict";e.exports=JSON.parse('{"extensionDescription":{"message":"TweetDeckをスマホアプリのように使えるようにするアドオン"},"configTitle":{"message":"設定メニュー"},"configSaveLabel":{"message":"保存して再読み込み"},"configBackLabel":{"message":"戻る"},"configLinksLabel":{"message":"バグ報告/機能提案など"},"configOptionBackAtMounted":{"message":"起動直後に開いている通知などを閉じる"},"configOptionNoAnimation":{"message":"アニメーションの無効化"},"configOptionHideImages":{"message":"ツイートの画像サムネイルを非表示"},"configOptionMenuOpenRange":{"message":"左からのスワイプでメニューを開く範囲"}}')},568:(e,t,n)=>{var i={"./en/messages.json":597,"./ja/messages.json":515};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id=568}},t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(379),t=n.n(e),i=n(44);t()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var o,a=function(e){return(new DOMParser).parseFromString(e,"text/html").querySelector("body").firstElementChild},r=function(e){document.querySelectorAll(e).forEach((function(e){return e.click()}))},c=function(e){if("undefined"!=typeof chrome&&void 0!==chrome.i18n)return chrome.i18n.getMessage(e);var t=/ja/.test(window.navigator.language)?"ja":"en";return n(568)("./"+t+"/messages.json")[e].message||""},s=function(){function e(){}return e.prototype.init=function(){this.$container=document.querySelector("#container"),this.$columnNavigator=document.querySelector("#column-navigator"),this.isNoAnimation=document.body.classList.contains("mtdeck-no-animation"),this.isNoAnimation&&(this.setNoAnimationJump(),this.setNoAnimationObserver())},e.prototype.scrollTo=function(e){var t=e.getBoundingClientRect(),n=this.isNoAnimation?"auto":"smooth";this.$container.scrollBy({left:t.left,behavior:n});var i=e.dataset.column;document.querySelector(".column-nav-item[data-column="+i+"]").scrollIntoView({behavior:n,inline:"nearest"})},e.prototype.setNoAnimationObserver=function(){var e=this;new MutationObserver((function(){return e.setNoAnimationJump()})).observe(this.$columnNavigator,{childList:!0,attributes:!1,characterData:!1})},e.prototype.setNoAnimationJump=function(){var e=this;this.$columnNavigator.querySelectorAll("li[data-column]").forEach((function(t){if(!t.dataset.noAnimation){var n=a(t.outerHTML);t.insertAdjacentElement("afterend",n),t.remove(),n.addEventListener("click",(function(n){var i=t.dataset.column,o=e.$container.querySelector("section[data-column="+i+"]");e.scrollTo(o)})),n.dataset.noAnimation="true"}}))},e}(),d=function(){function e(){}return Object.defineProperty(e,"isOpen",{get:function(){return!document.body.classList.contains("mtdeck-close")},enumerable:!1,configurable:!0}),e.open=function(){e.isOpen||document.body.classList.remove("mtdeck-close")},e.close=function(){e.isOpen&&document.body.classList.add("mtdeck-close")},e}(),m=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(){function e(){}return Object.defineProperty(e.prototype,"exists",{get:function(){return document.querySelectorAll(this.activeQuery).length>0},enumerable:!1,configurable:!0}),e.prototype.back=function(){r(this.clickQuery)},e}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery=".mtdeck-config.is-open",t.clickQuery="#mtdeck-config-back",t}return m(t,e),t}(l),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery=".app-content.is-open",t.clickQuery=".js-drawer-close",t}return m(t,e),t}(l),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery="#open-modal .js-column-state-social-proof",t.clickQuery="#open-modal .js-tweet-social-proof-back",t}return m(t,e),t}(l),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery="#open-modal .js-column-state-detail-view",t.clickQuery="#open-modal .js-column-back",t}return m(t,e),t}(l),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery=".mdl .btn-back",t.clickQuery=".mdl .btn-back",t}return m(t,e),t}(l),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery=".mdl .js-dismiss",t.clickQuery=".mdl .js-dismiss",t}return m(t,e),t}(l),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery="#container .js-column-state-social-proof",t.clickQuery="#container .js-tweet-social-proof-back",t}return m(t,e),t}(l),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery="#container .js-column-state-detail-view",t.clickQuery="#container .js-column-back",t}return m(t,e),t}(l),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeQuery=".is-options-open",t.clickQuery=".is-options-open .js-action-header-button",t}return m(t,e),t}(l),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"exists",{get:function(){return d.isOpen},enumerable:!1,configurable:!0}),t.prototype.back=function(){d.close()},t}(l),x=function(){function e(){this.backables=[new u,new p,new f,new h,new g,new b,new y,new v,new k,new w],this.queue=[]}return e.prototype.updateQueue=function(){this.queue=[];for(var e=0,t=this.backables;e<t.length;e++){var n=t[e];n.exists&&this.queue.push(n)}},e.prototype.back=function(){this.updateQueue(),this.queue.length>0&&this.queue[0].back()},e}(),j=function(){function e(e){var t=this;this.start={x:0,y:0,time:0},this.end={x:0,y:0,time:0},e.addEventListener("click",(function(){return t.onTap()})),e.addEventListener("touchstart",(function(e){t.start={x:e.touches[0].screenX,y:e.touches[0].screenY,time:(new Date).getTime()}})),e.addEventListener("touchmove",(function(e){t.end={x:e.touches[0].screenX,y:e.touches[0].screenY,time:(new Date).getTime()}})),e.addEventListener("touchend",(function(e){if(t.isSwipedX){var n=t.start.x<t.end.x?"right":"left";t.onSwipe(t.start.x,n)}}))}return Object.defineProperty(e.prototype,"isSwipedX",{get:function(){var e=this.end.x-this.start.x,t=this.end.y-this.start.y,n=this.end.time-this.start.time,i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))/n;return Math.abs(t/e)<=1&&Math.abs(e)>=10&&Math.abs(i)>=.3},enumerable:!1,configurable:!0}),e}(),S=function(){function e(){this.items=[{label:c("configOptionBackAtMounted"),name:"mtdBackAtMounted",type:"checkbox",default:"true"},{label:c("configOptionNoAnimation"),name:"mtdNoAnimation",type:"checkbox",default:"false"},{label:c("configOptionHideImages"),name:"mtdHideImages",type:"checkbox",default:"false"},{label:c("configOptionMenuOpenRange"),name:"mtdMenuOpenRange",type:"number",default:"30"}]}return e.prototype.getString=function(e){return localStorage.getItem(e).toString()},e.prototype.getNumber=function(e){return parseFloat(localStorage.getItem(e))},e.prototype.getBoolean=function(e){return"true"===localStorage.getItem(e)},e.prototype.open=function(){this.$el.classList.add("is-open")},e.prototype.close=function(){this.save(),this.$el.classList.remove("is-open")},e.prototype.isOpen=function(){return this.$el.classList.contains("is-open")},e.prototype.save=function(){document.querySelectorAll(".mtdeck-config-input").forEach((function(e){"checkbox"===e.type?localStorage.setItem(e.name,""+e.checked):localStorage.setItem(e.name,e.value)}))},e.prototype.saveDefault=function(){this.items.forEach((function(e){null===localStorage.getItem(e.name)&&localStorage.setItem(e.name,e.default)}))},e.prototype.createInfo=function(){this.$el.appendChild(a('\n      <div class="mtdeck-config-item">\n        <p>MTDeck v'+n(306).i8+"</p>\n        <p>"+c("configLinksLabel")+':\n          <a href="https://github.com/mkizka/MTDeck" target="_blank">Github</a>\n          <a href="https://twitter.com/mkizka">Twitter</a>\n        </p>\n      </div>\n    '))},e.prototype.createFooter=function(){var e=this;this.$el.appendChild(a('\n      <div class="mtdeck-config-footer">\n        <button id="mtdeck-config-save">'+c("configSaveLabel")+'</button>\n        <button id="mtdeck-config-back">'+c("configBackLabel")+"</button>\n      </div>\n    ")),document.querySelector("#mtdeck-config-save").addEventListener("click",(function(){e.save(),location.reload()})),document.querySelector("#mtdeck-config-back").addEventListener("click",(function(){e.close()}))},e.prototype.createForm=function(){var e=this;this.items.forEach((function(t){var n=a('\n        <input class="mtdeck-config-input" type="'+t.type+'" name="'+t.name+'"/>\n      ');"checkbox"===t.type?n.defaultChecked=e.getBoolean(t.name):n.defaultValue=e.getString(t.name),e.$el.insertAdjacentElement("beforeend",a('\n        <label class="mtdeck-config-item">\n          '+n.outerHTML+"  \n          "+t.label+"\n        </label>\n      "))}))},e.prototype.createSettingButton=function(){var e=this,t=document.querySelector(".js-app-settings"),n=t.cloneNode(!0);n.dataset.action="mtdeckConfig",n.dataset.title="MTDeck Config",n.classList.add("mtdeck-config-button"),n.querySelector(".app-nav-link-text").insertAdjacentText("afterbegin","MTD"),t.parentElement.insertAdjacentElement("afterbegin",a(n.outerHTML)),t.parentElement.firstChild.addEventListener("click",(function(t){return e.open()}))},e.prototype.createConfigBase=function(){this.$el=a('\n      <div class="mtdeck-config">\n        <h1 class="mtdeck-config-item">'+c("configTitle")+"</h1>\n      </div>\n    "),document.body.appendChild(this.$el)},e.prototype.init=function(){this.saveDefault(),this.createConfigBase(),this.createInfo(),this.createForm(),this.createFooter(),this.createSettingButton()},e}();(new(function(){function e(){this.config=new S,this.scrollController=new s,this.backController=new x,this.columnIndex=0,this.$columns=[]}return e.prototype.ready=function(){var e=this,t=setInterval((function(){e.$drawerOpenButton=document.querySelector("button[data-drawer=compose]"),e.$drawerOpenButton&&(e.config.init(),e.init(),e.scrollController.init(),clearInterval(t))}),100)},e.prototype.update=function(){var e=this;this.$columns=[],document.querySelectorAll("section.column").forEach((function(t){e.$columns.push(t)})),this.fixColumnState(),this.updateTweetButton()},e.prototype.fixColumnState=function(){this.columnIndex=0;for(var e=this.$columns[0],t=1;t<this.$columns.length;t++)Math.pow(this.$columns[t].getBoundingClientRect().left,2)<Math.pow(e.getBoundingClientRect().left,2)&&(e=this.$columns[t],this.columnIndex=t);e.scrollIntoView()},e.prototype.updateTweetButton=function(){var e=this,t=document.querySelector(".tweet-button");setTimeout((function(){e.$columns[e.columnIndex].classList.contains("js-column-state-detail-view")?t.style.display="none":t.style.display="block"}),200)},e.prototype.init=function(){var e=this;document.body.classList.add("mtdeck"),d.close(),this.config.getBoolean("mtdBackAtMounted")&&r(".js-dismiss"),this.config.getBoolean("mtdNoAnimation")&&document.body.classList.add("mtdeck-no-animation"),this.config.getBoolean("mtdHideImages")&&document.body.classList.add("mtdeck-hide-images"),this.update();var t=document.querySelector("div.app-columns-container"),n=new j(t);n.onTap=function(){e.update(),d.close()};var i=this.config.getNumber("mtdMenuOpenRange");n.onSwipe=function(t,n){"right"==n?t<i?d.open():e.backColumn():e.pushColumn()},history.pushState(null,null,null),window.addEventListener("popstate",(function(t){return e.back()})),this.$drawerOpenButton.addEventListener("click",(function(e){d.close()}))},e.prototype.back=function(){this.update(),this.backController.back(),history.pushState(null,null,null)},e.prototype.pushColumn=function(){this.update(),d.close(),this.columnIndex<this.$columns.length-1&&(this.columnIndex++,this.scrollController.scrollTo(this.$columns[this.columnIndex]))},e.prototype.backColumn=function(){this.update(),d.close(),0==this.columnIndex?d.open():(this.columnIndex--,this.scrollController.scrollTo(this.$columns[this.columnIndex]))},e}())).ready()})()})();